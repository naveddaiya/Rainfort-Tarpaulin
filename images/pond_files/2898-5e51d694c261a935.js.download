"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2898],{2060:function(e,t,s){var i=s(4924),o=s(5893),a=s(7294),r=s(1163),l=s.n(r),n=s(6064),p=s(4865),d=s(129),c=s.n(d),h=s(7066),m=s(3877);class u extends a.Component{componentDidMount(){document.addEventListener("click",this.handleClickOutside,!0),document.addEventListener("keydown",this.escFunction,!1)}componentDidUpdate(e,t){if(("interactiveVideo"===this.props.pagename||"homepage"===this.props.pagename||"intermediate"===this.props.pagename)&&void 0!==this.props.querystr&&""!==this.props.querystr&&e.querystr!==this.props.querystr){let e=this.props.querystr;e&&!e.match(/^http/)&&(e="https://justdial.com"+e),this.getShareUrl(e)}}render(){var e,t,s,i,a,r;let n="",d=l()&&l().router&&l().router.asPath?(0,p.P)().domain+l().router.asPath:"";return((null===(e=this.props)||void 0===e?void 0:null===(t=e.pageInfo)||void 0===t?void 0:t.page)==="tid_42"||(null===(s=this.props)||void 0===s?void 0:null===(i=s.pageInfo)||void 0===i?void 0:i.page)==="b2b_interpage")&&(null===(a=this.props)||void 0===a?void 0:a.querystr)&&(d=null===(r=this.props)||void 0===r?void 0:r.querystr),!this.state.shareurl&&d&&"interactiveVideo"!==this.props.pagename?this.getShareUrl(d):this.state.shareurl&&(d=this.state.shareurl),this.props.username?(n=this.props.username+" rated "+this.props.cmpname+" "+this.props.userrating+"/5",this.props.cmpname):void 0!==this.props.msg&&""!==this.props.msg?(n=this.props.msg,void 0!==this.props.cmpname&&""!==this.props.cmpname&&(n+=this.props.cmpname),this.props.msg):(n="Check this out on Justdial! "+this.props.cmpname,"productpage"==this.props.pagename||this.props.cmpname,this.props.cmpname),this.props.cataloguePdfUrl&&(n="Check out the ".concat(this.props.msgForCatPdf||"catalogue"," PDF"),d=this.props.cataloguePdfUrl),this.props.userProfile&&this.props.userProfile.sid&&this.props.userProfile.sid,this.props.userProfile&&this.props.userProfile.inLogMobile&&this.props.userProfile.inLogMobile,this.props.contracts&&this.props.contracts,this.props.catname&&this.props.catname,this.props.area&&this.props.area,this.props.ncatid&&this.props.ncatid,this.props.pagename&&"productpage"===this.props.pagename||this.props.pagename&&this.props.pagename,(0,o.jsx)("section",{className:"jdmart_modal jdmart_share_pop dn",children:(0,o.jsxs)("div",{className:"jdmart_modal_content jdmart_modal_small modal_animation fadeInUpTop",children:[(0,o.jsxs)("div",{className:"jdmart_modal_header ",children:[(0,o.jsxs)("div",{className:"modal_head_center pl-25 pt-25",children:[(0,o.jsx)("span",{className:"jdmart_wrapper font20 fw600 color414 text_left mb-5",children:"Share With Friends"}),(0,o.jsx)("span",{className:"jdmart_wrapper font16 fw400 color788 text_left mb-20",children:"Select from the options below"})]}),(0,o.jsx)("div",{className:"modal_head_right",onClick:this.closeSharePop,children:(0,o.jsx)("span",{className:"jdmart_modal_close jdmart_icon "})})]}),(0,o.jsx)("div",{className:"jdmart_divider"}),(0,o.jsx)("div",{className:"jdmart_modal_body pl-30 pr-30",children:(0,o.jsx)("div",{className:"jdmart_share_box pt-30 pb-30",children:(0,o.jsxs)("ul",{className:"share_linklist",children:[(0,o.jsx)("li",{className:"share_tab",children:(0,o.jsxs)("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:"https://web.whatsapp.com/send?text="+encodeURIComponent(n)+" : "+d,className:"share_anchor",onClick:()=>this.logImpression("share_whatsapp",!0),children:[(0,o.jsx)("span",{className:"share_icon",children:(0,o.jsx)("img",{src:"//akam.cdn.jdmagicbox.com/images/icontent/newwap/jdservice/b2bw_sharewhatsapp.png",className:"share_icon_img",alt:"Share on whatsapp"})}),(0,o.jsx)("span",{className:"share_icon_text color414 fw400 font16 mt-10",children:"Whatsapp"})]})}),(0,o.jsx)("li",{className:"share_tab",children:(0,o.jsxs)("a",{rel:"noopener noreferrer nofollow",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+d+"&quote="+encodeURIComponent(n),className:"share_anchor",onClick:()=>this.logImpression("share_facebook",!0),children:[(0,o.jsx)("span",{className:"share_icon",children:(0,o.jsx)("img",{src:"//akam.cdn.jdmagicbox.com/images/icontent/newwap/jdservice/b2bw_sharefacebook.png",className:"share_icon_img",alt:"Share on Facebook"})}),(0,o.jsx)("span",{className:"share_icon_text color414 fw400 font16 mt-10",children:"Facebook"})]})}),(0,o.jsx)("li",{className:"share_tab",children:(0,o.jsxs)("span",{className:"share_anchor pointer",onClick:()=>{this.coppylink(d),this.logImpression("share_coppy_link",!0)},children:[(0,o.jsx)("span",{className:"share_icon",children:(0,o.jsx)("img",{src:"//akam.cdn.jdmagicbox.com/images/icontent/newwap/web2022/copylink_3x.svg",className:"share_icon_img",alt:"Coppy share url"})}),(0,o.jsx)("span",{className:"share_icon_text color111 fw400 font16 mt-14",children:"Copy Link"})]})})]})})})]})})}constructor(e){var t;super(e),t=this,(0,i.Z)(this,"closeSharePop",()=>{let e=document.querySelector(".jdmart_share_pop");e.classList.contains("dn")?e.classList.remove("dn"):e.classList.add("dn")}),(0,i.Z)(this,"handleClickOutside",e=>{"string"==typeof e.target.className&&e.target.className.match(/jdmart_share_pop/g)&&document.querySelector(".jdmart_share_pop").classList.add("dn")}),(0,i.Z)(this,"getShareUrl",async e=>{try{let t=(0,m.HR)(),s=await h.Z.post("/jdmart/api/wrapi?apifile=result_share&apiname=20march2020&case=insert&name=&mobile=&email=&wap=77&url="+encodeURIComponent(e)+"&skipsieve=1&mobtyp=77&source=77&searchReferrer=gen&utm_source=&utm_medium=&version=5.0&search_time="+t.userTime,c().stringify({lid:t.keyId}));s.data&&s.data.results&&s.data.results.data&&s.data.results.data.share_url&&(this.setState({shareurl:s.data.results.data.share_url,sharetxt:s.data.results.data.share_text}),localStorage.setItem("shareurl",s.data.results.data.share_url))}catch(e){return e.message}}),(0,i.Z)(this,"escFunction",e=>{27===e.keyCode&&document.querySelector(".jdmart_share_pop")&&!document.querySelector(".jdmart_share_pop").classList.contains("dn")&&document.querySelector(".jdmart_share_pop").classList.add("dn")}),(0,i.Z)(this,"logImpression",function(e){var s,i;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let o=arguments.length>2?arguments[2]:void 0;arguments.length>3&&arguments[3];let a=t.props.pageProps&&t.props.pageProps.profile?t.props.pageProps.profile:t.props.userProfile,r="interactiveVideo"===t.props.pagename?"b2b_videopage":(null===(s=t.props.pageInfo)||void 0===s?void 0:s.cur_ref)||(null===(i=t.props.pageInfo)||void 0===i?void 0:i.page)||"socialshare",l=t.props.contracts?t.props.contracts:"",n=t.props.catname?t.props.catname:"",p=t.props.area?t.props.area:"",d=t.props.ncatid?t.props.ncatid:"";(0,m.D3)(r,e,t.props.city,t.props.city,a,"","",l||[{docid:"",cname:"",paid:""}],n,p,d,o?[o]:[],t.props.pageInfo)}),(0,i.Z)(this,"coppylink",async e=>{let t=document.createElement("input"),s=this.props.cataloguePdfUrl||e;document.body.appendChild(t),t.value=s,t.select(),document.execCommand("copy"),document.body.removeChild(t),this.closeSharePop()}),this.state={shareurl:"",sharetxt:""}}}let v=e=>({city:e.main.city,userProfile:e.userProfile.userdetail,pageInfo:e.main.pageInfo});t.Z=(0,n.$j)(v)(u)},2898:function(e,t,s){s.d(t,{Z:function(){return k}});var i=s(4924),o=s(5893),a=s(7294),r=s(6064),l=s(7066),n=s(129),p=s.n(n),d=s(2004),c=s.n(d);s(1664),s(4865);var h=s(3877),m=s(7408),u=s(1740);class v extends a.Component{render(){return(0,o.jsxs)("div",{className:"interactive_left pl-30 pr-30 animated fadeIn",children:[(0,o.jsx)("div",{className:"interactive_left_heading font19 fw600 color414 mt-30 mb-10",children:"Similar Products Based On Your Preference"}),this.props.supplier&&this.props.supplier.length>0?(0,o.jsx)("ul",{className:"interactive_left_list",children:this.props.supplier.map((e,t)=>{let s=e[32]?e[32].replace(/.*?jdmart\.com/g,""):"/jdmart/"+(0,h.Nw)((0,h.pt)(e[18]?e[18]:this.props.city))+"/"+(0,h.Nw)(e[1]?e[1].trim():"")+"/pid-"+e[57]+"/"+(e[0]?e[0].replace(/\./g,"-"):"");s=s.match(/\?/)?s+"&searchfrom=b2b_videopage":s+"?searchfrom=b2b_videopage";let i=e[47]&&e[47][0]?e[47][0]:e[19]?e[19]:"";return(i=i||"//akam.cdn.jdmagicbox.com/images/icontent/jdmart/jdmart_placeholder_65x65.svg",e[0]&&e[1]&&e[57])?(0,o.jsx)("li",{className:"interactive_left_tab",children:(0,o.jsxs)("div",{className:"interactive_left_anchor",children:[(0,o.jsx)("div",{className:"interactive_left_imagebox",children:(0,o.jsx)("a",{href:"".concat(s),target:"_blank",onClick:()=>{document.body.classList.remove("interactive"),this.props.logImpression("more_from_seller")},children:(0,o.jsx)("img",{className:"interactive_left_image",src:i})})}),(0,o.jsxs)("div",{className:"interactive_left_textbox",children:[(0,o.jsx)("a",{href:"".concat(s),target:"_blank",onClick:()=>{document.body.classList.remove("interactive"),this.props.logImpression("more_from_seller")},children:(0,o.jsx)("div",{className:"interactive_left_title font15 fw400 color414",children:e[1]})}),(0,o.jsx)("div",{className:"interactive_left_price mt-5",children:e[22]&&e[22].node1?(0,o.jsxs)("a",{href:"".concat(s),target:"_blank",onClick:()=>{document.body.classList.remove("interactive"),this.props.logImpression("more_from_seller")},children:[(0,o.jsx)("span",{className:"jdmart_rupees font18 color414 fw600",children:"₹"}),(0,o.jsx)("span",{className:"font18 fw600 color414",children:e[22].node1.replace(/₹/,"")})]}):(0,o.jsx)(o.Fragment,{children:""!==e[62]?(0,o.jsx)("a",{onClick:()=>this.props.redirectUrl(e[62]),className:"font17 fw600 color007",children:"Request for Price"}):null})}),e[38]?(0,o.jsx)("a",{href:"".concat(s),target:"_blank",onClick:()=>{document.body.classList.remove("interactive"),this.props.logImpression("more_from_seller")},children:(0,o.jsxs)("div",{className:"interactive_left_quant",children:[(0,o.jsx)("span",{className:"font15 fw400 color414",children:e[38].replace(/.*?\:/,"")}),(0,o.jsx)("span",{className:"font13 fw400 colorA0A",children:"  (MOQ)"})]})}):null]})]})}):null})}):null]})}constructor(e){super(e),this.state={cmpvid:"",pid:"ovplayer0",onenablepip:!1,uservideoaction:!1,pipplay:!0,pausebyscroll:!1,isVisible:!0,playing:!0,volume:null,mute:!0,fullscreen:!1,vpresults:[],vpage:0,vfetchlazy:!1}}}let g=e=>({city:e.main.city,userProfile:e.userProfile.userdetail,compProfile:e.catalog.compProfile,compvideo:e.catalog.compVideo,videosexpdata:e.main.videosexpdata}),f={compVideo:m.lP,openManuPop:m.w7,videosexpData:u.l1};var _=(0,r.$j)(g,f)(v),b=s(2060),y=s(3475),x=s(9763),j=s(1163),w=s.n(j);class N extends a.Component{componentDidMount(){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(e=>document.addEventListener(e,this.onFullScreen,!1)),this.props.videosexpdata&&this.props.videosexpdata.pid&&this.getVideo(),document.addEventListener("keydown",this.escFunction,!1),setTimeout(()=>{this.onImpressionDetection()},100)}componentWillUnmount(){void 0!==document.getElementsByTagName("video")&&void 0!==document.getElementsByTagName("video")[0]&&document.getElementsByTagName("video")[0].pause()}componentDidUpdate(){if(this.state.callCl&&this.props.userProfile&&this.props.userProfile.inLogMobile&&(document.querySelector(".jdmart_interactive").classList.remove("dn"),document.querySelector("#"+this.state.pid+" video").play(),this.getVn(this.state.docid,this.state.id,this.state.cname,this.state.city,this.state.area,this.state.paidstatus,this.state.ncatid,this.state.cntnumbers,this.state.vn),this.getVn(this.state.docid,this.state.id,this.state.cname,this.state.city,this.state.area,this.state.paidstatus,this.state.ncatid,this.state.cntnumbers,this.state.vn),this.setState({callCl:!1,rfqlink:""})),this.state.rfqlink&&this.props.userProfile&&this.props.userProfile.inLogMobile){let e=this.state.rfqlink;this.setState({rfqlink:"",callCl:!1}),e&&(window.location.href=e+"&mobile="+this.props.userProfile.inLogMobile+"&email="+this.props.userProfile.inLogEmail+"&name="+this.props.userProfile.inLogName+"&sid="+this.props.userProfile.sid)}this.state.vnNumberObj.flag&&this.props.userProfile&&this.props.userProfile.inLogMobile&&(this.handleCommenLogin(this.state.vnNumberObj.val),this.setState({vnNumberObj:{flag:!1,val:""}}))}render(){var e;let t=this.state.vpresults;return(0,o.jsx)(o.Fragment,{children:0===t.length?(0,o.jsxs)("div",{className:"jdmart_spinner_container_box black",children:[(0,o.jsx)("div",{className:"jdmart_spinner_container ",children:(0,o.jsx)("div",{className:"jdmart_spinner jdmart_spinner_black"})}),(0,o.jsx)("div",{className:"jdmart_spinner_text jdmart_wrapper text_center font16 fw600 colorFFF",children:"Fetching videos in a moment..."})]}):(0,o.jsxs)("section",{className:"jdmart_interactive",children:[(0,o.jsx)("div",{className:"interactive_close_icon jdmart_icon",onClick:()=>{this.props.videosexpData(""),document.body.classList.remove("interactive"),this.logImpression("back")}}),(0,o.jsx)(_,{supplier:this.state.supplier,redirectUrl:this.redirectUrl,logImpression:this.logImpression}),(0,o.jsx)("div",{className:"interactive_right",onScroll:this.listenScrollEvent,children:(0,o.jsx)("ul",{className:"interactive_right_list ",children:t.length>0?t.map((e,t)=>{var s,i,a,r;let l=e[32]?e[32].replace(/.*?jdmart\.com/g,""):"/"+(0,h.Nw)((0,h.pt)(e[18]?e[18]:this.props.city))+"/"+(0,h.Nw)(e[1].trim())+"/pid-"+e[57]+"/"+(e[0]?e[0].replace(/\./g,"-"):""),n=e[47]&&e[47][0]?e[47][0]:e[19]?e[19]:"";n=n||"//akam.cdn.jdmagicbox.com/images/icontent/newwap/jdservice/b2bw_default.svg";let p=l=l.match(/\?/)?l+"&searchfrom=b2b_videopage":l+"?searchfrom=b2b_videopage",d=e[83]?(0,h.Nw)(e[56])+"-"+(0,h.Nw)(e[83].trim()):(0,h.Nw)(e[56]);e[18]&&e[56]&&e[0]&&(p="/"+(0,h.Nw)((0,h.pt)(e[18]))+"/"+d+"/"+e[0].replace(/\./g,"-")+"_BZDET?pid="+(e[57]?e[57]:"")+"&searchfrom=b2b_videopage");let m="ovplayer"+t,u=(null===(s=this.props)||void 0===s?void 0:null===(i=s.videosexpdata)||void 0===i?void 0:null===(a=i.video)||void 0===a?void 0:null===(r=a[0])||void 0===r?void 0:r.url)||e[69]&&e[69][0]&&e[69][0].url;if(!u&&!e[69][0])return null;{((null===(v=this.props)||void 0===v?void 0:null===(g=v.videosexpdata)||void 0===g?void 0:null===(f=g.video)||void 0===f?void 0:null===(_=f[0])||void 0===_?void 0:_.dur)||e[69][0].dur)&&((null===(M=this.props)||void 0===M?void 0:null===(V=M.videosexpdata)||void 0===V?void 0:null===(F=V.video)||void 0===F?void 0:null===(U=F[0])||void 0===U?void 0:U.dur)||e[69][0].dur,(null===(D=this.props)||void 0===D?void 0:null===(B=D.videosexpdata)||void 0===B?void 0:null===(R=B.video)||void 0===R?void 0:null===(H=R[0])||void 0===H?void 0:H.dur)||e[69][0].dur);var v,g,f,_,b,y,x,j,w,N,P,S,k,I,L,C,q,Z,T,E,M,V,F,U,D,B,R,H,O=document.createElement("div");O.innerHTML=e[65],O.textContent||O.innerText;let s="impression";return this.impressionInfos.push({id:s,li:s,data:e[87]}),(0,o.jsxs)("li",{className:"interactive_rightbox animated fadeIn",ref:"videoViewPort"+t,id:s,children:[(0,o.jsxs)("div",{className:"interactive_rightbox_toprow",children:[(0,o.jsx)("a",{className:"rightbox_toprow_logo",href:"".concat(p),target:"_blank",title:e[56]?e[56].trim():"",onClick:()=>this.logImpression("vendor"),children:(0,o.jsx)("img",{className:"toprow_logo",alt:e[56],src:e[70]})}),(0,o.jsxs)("div",{className:"rightbox_toprow_title",children:[(0,o.jsxs)("div",{className:"toprow_title font18 fw600 color414",children:[(0,o.jsx)("a",{className:"font18 fw600 color414",href:"".concat(p),target:"_blank",onClick:()=>this.logImpression("b2b_plisting"),children:e[56]}),(0,o.jsx)("button",{className:"toprow_follow font10 fw600 flufl_"+t,onClick:()=>this.followPage(t,e[0]),children:e[75]>0?"Following":"Follow"})]}),(0,o.jsx)("div",{className:"toprow_locat font14 fw400 color788",children:e[12]})]})]}),(0,o.jsxs)("div",{className:"interactive_rightbox_midrow",children:[(0,o.jsxs)("div",{className:"midrow_title font16 fw600 color414",children:[(0,o.jsx)("div",{className:"midrow_tag font12 fw600 color414 mr-10 dn",children:"Most Enquired"}),(0,o.jsx)("a",{className:"font18 fw600 color414",href:l,target:"_blank",children:e[1]})]}),(0,o.jsx)("div",{className:"midrow_video",children:this.state.pid===m?(0,o.jsx)("div",{className:"videosbox_image",ref:"videoplayer",children:(0,o.jsx)(c(),{url:u,id:m,controls:!0,config:{file:{attributes:{poster:(null===(b=this.props)||void 0===b?void 0:null===(y=b.videosexpdata)||void 0===y?void 0:null===(x=y.video)||void 0===x?void 0:null===(j=x[0])||void 0===j?void 0:j.thumbnail)||e[69][0].thumbnail},controlsList:"nodownload"}},onContextMenu:e=>e.preventDefault(),className:"videosbox_image",width:"100%",height:"100%",pip:!0,playing:"true",ref:"videoRef",volume:this.state.volume,muted:this.state.mute,onVolumeChange:this.handlevol,onEnablePIP:this.onenablepip,onSeeking:this.handleSeek,onPlay:this.handlePlay,onPause:this.handlePause,onDisablePIP:this.ondisablepip,onEnded:this.onEnded})}):(0,o.jsxs)("div",{className:"videosbox_image",onClick:()=>this.playVid(m,e),children:[(0,o.jsx)("img",{className:"midrow_image",alt:(null===(w=this.props)||void 0===w?void 0:null===(N=w.videosexpdata)||void 0===N?void 0:null===(P=N.video)||void 0===P?void 0:null===(S=P[0])||void 0===S?void 0:S.title)||(e[69]&&e[69][0]?e[69][0].title:""),src:(null===(k=this.props)||void 0===k?void 0:null===(I=k.videosexpdata)||void 0===I?void 0:null===(L=I.video)||void 0===L?void 0:null===(C=L[0])||void 0===C?void 0:C.thumbnail)||e[69][0].thumbnail}),(0,o.jsx)("span",{className:"midrow_video_icon jdmart_icon"})]})})]}),(0,o.jsxs)("div",{className:"interactive_rightbox_botrow",children:[(0,o.jsxs)("div",{className:"botrow_btnbox",children:[e[15]?(0,o.jsxs)("button",{className:"botrow_button botrow_button_half greenfill_animate",onClick:()=>{this.handleCommenLogin(e)},children:[(0,o.jsx)("span",{className:"jdmart_icon whitecall__icon mr-5"}),(0,o.jsx)("span",{className:"font15 fw500 colorFFF",children:"0"+e[15].replace(/[()]/g,"").replace(/-/g," ").replace(/\+91/g,"").replace(/\s+/g,"").replace(/\-/g,"").replace(/^0/,"")})]}):e[73]||(null===(q=e[23])||void 0===q?void 0:q.t)||(null===(Z=e[23])||void 0===Z?void 0:Z.m)||(null===(T=e[23])||void 0===T?void 0:T.l)||(null===(E=e[23])||void 0===E?void 0:E.v)?(0,o.jsxs)("button",{className:"botrow_button botrow_button_half greenfill_animate vxdocibtn_"+t,onClick:()=>{this.getVn(e[0],t,e[56],e[18],e[12],e[6],e[58],e[23],e[15],e[87])},children:[(0,o.jsx)("span",{className:"jdmart_icon whitecall__icon mr-5"}),(0,o.jsx)("span",{className:"font15 fw500 colorFFF vxdocidvn_"+t,children:"Show Number"})]}):null,(0,o.jsx)("button",{className:"botrow_button botrow_button_full font15 fw500",onClick:()=>this.redirectUrl(e[63],e[87]),children:"Get Best Price"})]}),(0,o.jsx)("div",{className:"botrow_shrebox",children:(0,o.jsxs)("div",{className:"shrebox",children:[(0,o.jsx)("span",{className:"shrebox_icon botrow_share_icon jdmart_icon",onClick:()=>this.clickShare(e)}),(0,o.jsx)("span",{className:"font13 fw400 color dn",children:"Share 60"})]})})]})]},t)}}):null})}),(0,o.jsx)(b.Z,{cmpname:this.state.cmpname,querystr:this.state.querystr,msg:this.state.msg,pagename:"interactiveVideo"}),(0,o.jsx)(y.Z,{ToggleShowNumberPopUp:()=>this.ToggleShowNumberPopUp(),showNumber:null===this||void 0===this?void 0:null===(e=this.state)||void 0===e?void 0:e.anNumber})]})})}constructor(e){var t;super(e),t=this,(0,i.Z)(this,"listenScrollEvent",()=>{let e=document.getElementsByClassName("interactive_rightbox");if(e.length){for(let t=0;t<e.length;++t)if(this.refs["videoViewPort"+t]){let e=this.refs["videoViewPort"+t].getBoundingClientRect(),s=e.top,i=e.bottom,o=s>=0&&i<=window.innerHeight;if(this.state.onenablepip)this.state.pid=="ovplayer"+t&&(o?this.setState({isVisible:!0}):this.setState({isVisible:!1}));else if(o&&this.state.pid!=="ovplayer"+t){let e=this.state.vpresults[t],s="ovplayer"+t;this.scrollPlayVid(s,e),this.setState({isVisible:!0})}}}this.onImpressionDetection()}),(0,i.Z)(this,"onImpressionDetection",()=>{if("visible"===document.visibilityState&&this.impressionInfos.length!==this.productImpressionSent.length&&!this.isSendingImpressionRequest){this.isSendingImpressionRequest=!0;let t=this.impressionInfos.filter(e=>{let{id:t}=e;return!this.productImpressionSent.includes(t)}),s=[];if(t.length>0)for(let e of t){let t=document.getElementById(e.id);if(t){let{left:i,top:o,right:a,bottom:r,height:l}=t.getBoundingClientRect();(o<=window.innerHeight&&r<=window.innerHeight&&r>window.innerHeight-l/2||o>=0&&o<=window.innerHeight-l/2)&&(i>=0&&a<=window.innerWidth||i>=0&&i<=.9*window.innerWidth)&&s.push(e)}}if(s.length>0){let t={};for(let e of s){let{id:s,li:i,data:o}=e;t[i]=Array.isArray(t[i])?[...t[i],o]:[o],this.productImpressionSent=[...this.productImpressionSent,s]}let i=this.props.pageProps&&this.props.pageProps.profile?this.props.pageProps.profile:this.props.userProfile;for(let[s,o]of Object.entries(t)){var e;(0,h.D3)("b2b_videopage",s||"Impression",this.props.city,this.props.city,i,"",(null===(e=this.props.homedata)||void 0===e?void 0:e.search_id)||"",[{docid:"",cname:"",paid:""}],"","","",o,this.props.pageInfo)}}this.isSendingImpressionRequest=!1}}),(0,i.Z)(this,"logImpression",function(e){var s,i,o,a,r,l,n,p,d,c,m,u,v,g,f,_,b,y,j,N,P,S,k,I,L;arguments.length>1&&void 0!==arguments[1]&&arguments[1];let C=arguments.length>2?arguments[2]:void 0,q=(arguments.length>3&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}),Z={type:"frontend",int:"NA",tid:(null===(s=t.props)||void 0===s?void 0:null===(i=s.pageInfo)||void 0===i?void 0:i.page)&&(null===(o=t.props)||void 0===o?void 0:null===(a=o.pageInfo)||void 0===a?void 0:null===(r=a.page)||void 0===r?void 0:r.match(/_/))?null===(l=t.props)||void 0===l?void 0:null===(n=l.pageInfo)||void 0===n?void 0:null===(p=n.page)||void 0===p?void 0:p.split("_")[1]:(null===(d=t.props)||void 0===d?void 0:null===(c=d.pageInfo)||void 0===c?void 0:c.page)||"NA",vid:311,version:"3.2",wap:"77",user_error:"NA",user_error_page:"NA",new_user:0};(null===(m=w().router)||void 0===m?void 0:null===(u=m.query)||void 0===u?void 0:null===(v=u.pidid)||void 0===v?void 0:v.match(/int/))?Z=null===(f=t.props.catData[null===(_=w().router)||void 0===_?void 0:null===(b=_.query)||void 0===b?void 0:b.pidid])||void 0===f?void 0:f.event_data:(null===(y=t.props.homedata)||void 0===y?void 0:null===(j=y.data)||void 0===j?void 0:j.event_data)&&(Z=null===(N=t.props.homedata)||void 0===N?void 0:null===(P=N.data)||void 0===P?void 0:P.event_data),"get_best_price"==e&&(0,x.WM)("get_best_price",null===(S=t.props)||void 0===S?void 0:null===(k=S.pageInfo)||void 0===k?void 0:k.cur_ref),"share"==e&&(0,x.WM)("share",null===(I=t.props)||void 0===I?void 0:null===(L=I.pageInfo)||void 0===L?void 0:L.cur_ref);let T=t.props.pageProps&&t.props.pageProps.profile?t.props.pageProps.profile:t.props.userProfile;(0,h.D3)("b2b_videopage",e,t.props.city,t.props.city,T,"",(null===(g=t.props.homedata)||void 0===g?void 0:g.search_id)||"",[{docid:"",cname:"",paid:""}],"","","",C&&Object.values(C).length>0?[C]:[Z],t.props.pageInfo,q)}),(0,i.Z)(this,"onenablepip",()=>{let e=this.refs.videoplayer.getBoundingClientRect(),t=e.top,s=e.bottom;t<window.innerHeight&&s>=0?this.setState({isVisible:!0,onenablepip:!0,pipplay:!0,playing:!0,mute:!1}):this.setState({onenablepip:!0,pipplay:!0,playing:!0,mute:!1});let i=document.getElementsByTagName("video")[0];i.play(),i.muted=!1}),(0,i.Z)(this,"ondisablepip",()=>{let e=document.getElementsByTagName("video")[0];this.state.pipplay?this.state.isVisible?setTimeout(()=>{this.setState({onenablepip:!1,pipplay:!0,playing:!0}),e.play()},150):(this.setState({onenablepip:!1,pipplay:!1}),e.pause()):setTimeout(()=>{e.pause(),this.setState({onenablepip:!1,playing:!1})},100)}),(0,i.Z)(this,"handlePlay",()=>{this.state.onenablepip?this.setState({playing:!0,pipplay:!0}):this.setState({playing:!0})}),(0,i.Z)(this,"handlePause",()=>{this.state.pipplay&&this.state.onenablepip?this.setState({playing:!1,pausebyscroll:!1,uservideoaction:!0,pipplay:!1}):this.state.onenablepip?this.setState({pausebyscroll:!1,uservideoaction:!0,pipplay:!1,playing:!1}):this.setState({playing:!1,pausebyscroll:!1,uservideoaction:!0})}),(0,i.Z)(this,"handleSeek",e=>{let t=this.state.playing,s=document.getElementsByTagName("video")[0];t||s.pause()}),(0,i.Z)(this,"onFullScreen",e=>{let t=this.state.playing,s=document.getElementsByTagName("video")[0];this.state.fullscreen?(this.state.mute?s.muted=!0:s.muted=!1,this.state.upfrontmute&&(s.muted=!0),this.setState({fullscreen:!1,playing:t})):(this.setState({fullscreen:!0,playing:!0,mute:!0}),s.muted=!1,s.play())}),(0,i.Z)(this,"handlevol",()=>{let e=document.getElementsByTagName("video")[0];e.muted?(this.state.fullscreen||this.setState({upfrontmute:!0}),this.setState({mute:!0})):(this.setState({mute:!1,volume:e.volume}),this.state.fullscreen||this.setState({upfrontmute:!1}))}),(0,i.Z)(this,"onEnded",()=>{document.getElementsByTagName("video")[0].currentTime=0}),(0,i.Z)(this,"escFunction",e=>{if("home"!==this.props.videoflag&&27===e.keyCode){var t,s;document.querySelector(".jdmart_interactive")&&!document.querySelector(".jdmart_interactive").classList.contains("dn")?(this.props.videosexpData(""),document.body.classList.remove("interactive")):(null===(t=document.querySelector(".jdmart_interactive"))||void 0===t?void 0:null===(s=t.classList)||void 0===s?void 0:s.contains("dn"))&&(document.querySelector(".jdmart_interactive").classList.remove("dn"),document.querySelector("#"+this.state.pid+" video").play())}}),(0,i.Z)(this,"redirectUrl",(e,t)=>{var s,i,o,a;let r="get_best_price",l="jdmarthomevideotab_Get Best Price",n=(null===(s=this.props)||void 0===s?void 0:null===(i=s.pageInfo)||void 0===i?void 0:i.cur_ref)||(null===(o=this.props)||void 0===o?void 0:null===(a=o.pageInfo)||void 0===a?void 0:a.page);return e+=e&&e.match(/\?/)?"&leadtype="+r+"&pagename="+n+"&position="+l:"?&leadtype="+r+"&pagename="+n+"&position="+l,this.logImpression("get_best_price",!1,t||[],"",{leadtype:r,position:l,calltype:""}),window.location.href=e,!1}),(0,i.Z)(this,"handleCommenLogin",e=>{if(e){if(this.props.userProfile&&this.props.userProfile.inLogMobile){var t;(0,h.Bo)({vnumber:"0"+e[15].replace(/[()]/g,"").replace(/-/g," ").replace(/\+91/g,"").replace(/\s+/g,"").replace(/\-/g,"").replace(/^0/,""),position:"jdmarthomevideotab_call",search_id:this.state.search_id||this.props.search_id||(null===(t=this.props.homedata)||void 0===t?void 0:t.search_id)||"",ncatid:(null==e?void 0:e[58])||"",docid:(null==e?void 0:e[0])||"",city:(null==e?void 0:e[18])||"",pstatus:(null==e?void 0:e[6])||"",companyName:(null==e?void 0:e[1])||"",area:(null==e?void 0:e[12])||"",bd:1}),this.logImpression("openvn",!1,e[15],"",{leadtype:"call",position:"jdmarthomevideotab_call",calltype:"vn"})}else{let t=document.querySelector(".loginPop");t.classList.contains("dn")&&(t.classList.remove("dn"),document.querySelector(".jdmart_interactive").classList.add("dn"),this.setState({vnNumberObj:{flag:!0,val:e}}))}}}),(0,i.Z)(this,"getVn",async(e,t,s,i,o,a,r,l,n,p)=>{if(this.props.userProfile&&this.props.userProfile.inLogMobile)try{var d,c,m;let u="",v="an";n&&(n=n.replace(/[()]/g,"").replace(/-/g," "),v="vn");let g=(null==l?void 0:l.m)+","+(null==l?void 0:l.l)+","+(null==l?void 0:l.t);g=g.split(",").filter(e=>""!=e).join(",");let f="";if(!u&&g&&((f=g.split(",")).length>1?(await this.setState({anNumber:g}),await this.ToggleShowNumberPopUp()):u=(u=f[0]?f[0]:"")?u.replace(/[()]/g,"").replace(/-/g," "):""),!u&&!f){let t=await (0,h.zM)(e,this.props.userProfile.inLogMobile);t.vn&&(n="0"+t.vn.replace(/[()]/g,"").replace(/-/g," ").replace(/\+91/g,"").replace(/\s+/g,"").replace(/\-/g,"").replace(/^0/,""),v="dvn"),t.an.m?t.an.m:t.an.l?t.an.l:t.an.t&&l.t;let s=(null==t?void 0:null===(d=t.an)||void 0===d?void 0:d.m)||","+(null==t?void 0:null===(c=t.an)||void 0===c?void 0:c.l);(s=s.split(",").filter(e=>""!=e).join(","))&&!u&&((f=s.split(",")).length>1?(await this.setState({anNumber:s}),await this.ToggleShowNumberPopUp()):u=(u=f[0]?f[0]:"")?u.replace(/[()]/g,"").replace(/-/g," "):"")}let _=document.querySelector(".vxdocidvn_"+t);if(_&&(u||n))_.innerHTML=n||u,document.querySelector(".vxdocibtn_"+t).style.pointerEvents="none";else if(!u&&!g)return!1;_.disabled=!0,e&&i&&r&&s&&(0,h.nv)("","jdmarthomevideotab",r,i,this.props.userProfile.inLogMobile,this.props.userProfile.sid,e,s,a,this.props.catname,o,this.props.userProfile.inLogName,2,v,"jdmarthomevideotab_show number",n||u,this.state.search_id||this.props.search_id||(null===(m=this.props.homedata)||void 0===m?void 0:m.search_id)||""),this.logImpression("call",!1,p,"",{leadtype:"call",position:"jdmarthomevideotab_show number",calltype:v})}catch(e){return e.message}else{document.querySelector(".jdmart_interactive").classList.add("dn"),document.querySelector("#"+this.state.pid+" video").pause();let d=document.querySelector(".loginPop");if(d.classList.contains("dn")){d.classList.remove("dn");let c=document.querySelector(".loginnamefield");c&&c.focus(),this.setState({docid:e,id:t,cname:s,city:i,area:o,paidstatus:a,ncatid:r,callCl:!0,cntnumbers:l,vn:n,rfqlink:"",trd:p})}}}),(0,i.Z)(this,"ToggleShowNumberPopUp",()=>{let e=document.getElementById("NumbersPopupID");e.classList.contains("dn")?(e.classList.remove("dn"),this.setState({anNumber:""})):e.classList.add("dn")}),(0,i.Z)(this,"followPage",async(e,t)=>{try{let s=(0,h.HR)();if(this.props.userProfile&&this.props.userProfile.sid){let i=document.querySelector(".flufl_"+e),o=1;i&&"follow"===i.innerHTML.trim().toLowerCase()&&(o=0);let a=1===o?"unfollow_vendor":"follow_vendor",r=await l.Z.post("/jdmart/api/wrapi?apifile=vcatalogue&apiname=20march2020&wap=77&mobtyp=77&source=77&searchType="+a+"&docid="+t+"&searchReferrer=gen|auto|b2bhome&utm_source=&utm_medium=&version=5.0&search_time="+s.userTime,p().stringify({lid:s.keyId}),{headers:{sid:encodeURIComponent(this.props.userProfile.sid),mobile:this.props.userProfile.inLogMobile}});r.data.results&&r.data.results.flg&&"1"===r.data.results.flg.toString()&&(1===o?i.innerHTML="Follow":i.innerHTML="Following")}else{this.props.videosexpData(""),document.body.classList.remove("interactive");let e=document.querySelector(".loginPop");if(e.classList.contains("dn")){e.classList.remove("dn");let t=document.querySelector(".loginnamefield");t&&t.focus(),this.setState({rfqlink:redirectUrl,callCl:!1})}}}catch(e){return e.message}}),(0,i.Z)(this,"getVideo",async()=>{try{document.body.classList.add("interactive");let e=this.props.videosexpdata&&this.props.videosexpdata.pid?this.props.videosexpdata.pid:"",t=this.props.videosexpdata&&this.props.videosexpdata.nid?this.props.videosexpdata.nid:"",s=this.props.videosexpdata&&this.props.videosexpdata.city?this.props.videosexpdata.city:this.props.city,i=this.props.userProfile&&this.props.userProfile.sid?this.props.userProfile.sid:"",o=this.props.userProfile&&this.props.userProfile.inLogMobile?this.props.userProfile.inLogMobile:"",a=this.props.userProfile&&this.props.userProfile.inLogName?this.props.userProfile.inLogName:"",r=(0,h.HR)(),n=await l.Z.post("/jdmart/api/wrapi?apiname=20march2020&apifile=gojd&searchType=reco_prod&page=1&pgno=1&pageno=1&limit=10&videocell=1&des=1&catids="+t+"&pid="+e+"&city="+s+"&apiv=2&source=77&tab=2&wap=77&version=5.0&show=0&search_time="+r.userTime,p().stringify({lid:r.keyId}),{headers:{sid:i,mobile:o,name:a}});if(n&&n.data&&n.data.data&&n.data.data.results&&n.data.data.results.data&&n.data.data.results.data.length){let e=await n.data.data.results.data;this.setState({vpresults:e,search_id:n.data.data.search_id}),await this.getSupplier(e[0][0],e[0][57],e[0][74])}else this.setState({vpresults:"",vpage:0,vtotalNumberofResults:0}),this.props.videosexpData(""),document.body.classList.remove("interactive")}catch(e){return e.message}}),(0,i.Z)(this,"getSupplier",async(e,t,s)=>{try{this.props.videosexpdata&&this.props.videosexpdata.city?this.props.videosexpdata.city:this.props.city;let i=this.props.userProfile&&this.props.userProfile.sid?this.props.userProfile.sid:"",o=this.props.userProfile&&this.props.userProfile.inLogMobile?this.props.userProfile.inLogMobile:"",a=this.props.userProfile&&this.props.userProfile.inLogName?this.props.userProfile.inLogName:"";this.setState({supplier:""});let r=(0,h.HR)(),n=await l.Z.post("/jdmart/api/wrapi?apiname=20march2020&apifile=gojd&searchType=vprods&docid="+(e||"")+"&catid="+(s||"")+"&pid="+(t||"")+"&wap=77&isdcode=0091&mobtyp=3&source=77&v=5.0&native=1&version=5.0&loginid="+o+"&concode=0091&ln=en&fh=1&search_time="+r.userTime,p().stringify({lid:r.keyId}),{headers:{sid:i,mobile:o,name:a}});n&&n.data&&n.data.results&&n.data.results.data&&n.data.results.data[0]&&this.setState({supplier:n.data.results.data})}catch(e){return e.message}}),(0,i.Z)(this,"clickShare",e=>{this.logImpression("share");let t=document.querySelector(".jdmart_share_pop");if(t.classList.contains("dn")){let s=e[32]?e[32]:"";this.setState({querystr:s,msg:"Check this out on Justdial! ",cmpname:e[56]}),t.classList.remove("dn")}else t.classList.add("dn")}),(0,i.Z)(this,"scrollPlayVid",(e,t)=>{this.getSupplier(t[0],t[57],t[74]);let s=document.getElementsByTagName("video")[0];this.setState({pid:e,mute:s.muted})}),(0,i.Z)(this,"playVid",(e,t)=>{this.getSupplier(t[0],t[57],t[74]);let s=document.getElementsByTagName("video")[0];this.setState({pid:e,mute:s?s.muted:"",onenablepip:!1})}),this.state={cmpvid:"",pid:"ovplayer0",onenablepip:!1,uservideoaction:!1,pipplay:!0,pausebyscroll:!1,isVisible:!0,playing:!0,volume:null,mute:!1,upfrontmute:!1,fullscreen:!1,vpresults:[],vpage:0,vfetchlazy:!1,supplier:"",callCl:!1,docid:"",id:"",cname:"",city:"",area:"",paidstatus:"",ncatid:"",cntnumbers:"",vn:"",querystr:"",msg:"",cmpname:"",rfqlink:"",anNumber:"",trd:"",vnNumberObj:{flag:!1,val:""}},this.productImpressionSent=[],this.impressionInfos=[],this.impressionid=[],this.isSendingImpressionRequest=!1,this.initialMouseMoveImpression=!1}}let P=e=>({city:e.main.city,userProfile:e.userProfile.userdetail,compProfile:e.catalog.compProfile,compvideo:e.catalog.compVideo,videosexpdata:e.main.videosexpdata,homedata:e.main.homedata,catData:e.main.intData,pageInfo:e.main.pageInfo}),S={compVideo:m.lP,openManuPop:m.w7,videosexpData:u.l1};var k=(0,r.$j)(P,S)(N)}}]);